'use client'

import { PageHeader } from '@/components/dashboard/PageHeader'
import { BrandingSection } from './components/BrandingSection'
import { ProfileSection } from './components/ProfileSection'
import { useBrandSettings } from './hooks/useBrandSettings'
import { useProfileSettings } from './hooks/useProfileSettings'

export default function ConfiguracoesPage() {
  const {
    fullName,
    setFullName,
    email,
    loading: loadingProfile,
    saving: savingProfile,
    updateProfile
  } = useProfileSettings()

  const {
    logoPreview,
    uploading,
    error,
    handleFileChange,
    uploadLogo,
    cancelUpload
  } = useBrandSettings()

  return (
    <div className="space-y-6">
      <PageHeader
        title="Configurações"
        description="Personalize seu perfil e a identidade visual do painel"
      />

      <ProfileSection
        fullName={fullName}
        setFullName={setFullName}
        email={email}
        loading={loadingProfile}
        saving={savingProfile}
        onSave={updateProfile}
      />

      <BrandingSection
        logoPreview={logoPreview}
        uploading={uploading}
        error={error}
        onFileChange={handleFileChange}
        onUpload={uploadLogo}
        onCancel={cancelUpload}
      />
    </div>
  )
}
